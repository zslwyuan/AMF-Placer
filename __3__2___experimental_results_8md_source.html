<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AMF-Placer: doc/pages/_3_2_ExperimentalResults.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AMF-Placer
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">An Open-Source Timing-driven Analytical Mixed-size FPGA Placer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('__3__2___experimental_results_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">doc/pages/_3_2_ExperimentalResults.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="__3__2___experimental_results_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;@page _3_2_ExperimentalResults Experimental Results</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;# Experimental Results</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Apart from the fundamental mechanisms to support macro placement, some optional optimization techniques are evaluated:</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;1. SA-based initial placement</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;2. interconnection-density-aware pseudo net weight</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;3. utilization-guided search of spreading window</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;4. forgetting-rate-based cell spreading update</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;5. progressive macro legalization</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;Since existing open-source analytical FPGA placers do not support mixed-size FPGA placement of aforementioned macros on Ultrascale devices, for comprehensive comparison, according to some state-of-the-art solutions, we implement baseline placement solution with the following features:</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;1.  quadratic placement, cell spreading and clock region planning algorithms from RippleFPGA\[1\] and clock-aware initial clustering from \[2\].</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;2.  resource demand adjustment and packing algorithms from extended UTPlaceF\[3\]</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;3.  SA initial placement</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;4.  necessary modifications to support macro placement, e.g., macro legalization/packing, but without Tech2-5 shown above.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;5.  parallelized</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Below are the comparison data which are normalized. We will keep improving our implementation.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;|           | faceDetect |       |         |       | halfsqueezenet |       |         |       | optimsoc |       |         |       | minimap_GENE |       |         |       |</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;| :-------: | :--------: | :---: | :-----: | :---: | :------------: | :---: | :-----: | :---: | :------: | :---: | :-----: | :---: | :----------: | :---: | :-----: | :---: |</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;|           |    HPWL    | Rhpwl | time(s) | Rtime |      HPWL      | Rhpwl | time(s) | Rtime |   HPWL   | Rhpwl | time(s) | Rtime |     HPWL     | Rhpwl | time(s) | Rtime |</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;| proposed  |   446908   | 1.000 |   105   | 1.054 |     339764     | 1.000 |   129   | 1.000 | 1771538  | 1.000 |   466   | 1.000 |   1275346    | 1.000 |   558   | 1.000 |</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;| w/o tech1 |   479221   | 1.072 |   109   | 1.088 |     360567     | 1.061 |   132   | 1.023 | 9034564  | 5.100 |   871   | 1.870 |   5132073    | 4.024 |  1265   | 2.266 |</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;| w/o tech2 |   487060   | 1.090 |   124   | 1.238 |     431386     | 1.270 |   240   | 1.857 | 1825819  | 1.031 |   543   | 1.164 |   1307249    | 1.025 |   626   | 1.121 |</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;| w/o tech3 |   465208   | 1.041 |   131   | 1.315 |     491385     | 1.446 |   517   | 4.007 | 1841786  | 1.040 |   577   | 1.239 |   1790566    | 1.404 |  1019   | 1.826 |</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;| w/o tech4 |   450199   | 1.007 |   100   | 1.000 |     351649     | 1.035 |   131   | 1.015 | 2658863  | 1.501 |   525   | 1.126 |   1291565    | 1.013 |   561   | 1.005 |</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;| w/o tech5 |   511514   | 1.145 |   134   | 1.344 |     443765     | 1.306 |   138   | 1.067 | 1880431  | 1.061 |   546   | 1.172 |   1430330    | 1.122 |   708   | 1.268 |</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;| baseline  |   794201   | 1.777 |   234   | 2.338 |    1865746     | 5.491 |   329   | 2.549 | 2231978  | 1.260 |   559   | 1.199 |   11886747   | 9.320 |  3539   | 6.339 |</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;|           | OpenPiton |       |         |       | digitRecognition |       |         |       | MemN2N  |       |         |       | BLSTM_midDensity |       |         |       |</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;| :-------: | :-------: | :---: | :-----: | :---: | :--------------: | :---: | :-----: | :---: | :-----: | :---: | :-----: | :---: | :--------------: | :---: | :-----: | :---: |</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;|           |   HPWL    | Rhpwl | time(s) | Rtime |       HPWL       | Rhpwl | time(s) | Rtime |  HPWL   | Rhpwl | time(s) | Rtime |       HPWL       | Rhpwl | time(s) | Rtime |</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;| proposed  |  1139189  | 1.000 |   283   | 1.035 |      726929      | 1.000 |   254   | 1.097 | 801403  | 1.000 |   318   | 1.130 |      484650      | 1.000 |   326   | 1.241 |</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;| w/o tech1 |  6218009  | 5.458 |   350   | 1.280 |      768796      | 1.058 |   256   | 1.105 | 963416  | 1.202 |   363   | 1.287 |      492194      | 1.016 |   285   | 1.083 |</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;| w/o tech2 |  1157479  | 1.016 |   296   | 1.079 |      773957      | 1.065 |   272   | 1.174 | 862212  | 1.076 |   343   | 1.216 |      511861      | 1.056 |   296   | 1.126 |</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;| w/o tech3 |  1159003  | 1.017 |   326   | 1.190 |      730071      | 1.004 |   321   | 1.389 | 916176  | 1.143 |   411   | 1.460 |      496540      | 1.025 |   364   | 1.383 |</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;| w/o tech4 |  1212149  | 1.064 |   274   | 1.000 |      728094      | 1.002 |   231   | 1.000 | 822742  | 1.027 |   282   | 1.000 |      653010      | 1.347 |   307   | 1.169 |</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;| w/o tech5 |  1142927  | 1.003 |   301   | 1.098 |      997207      | 1.372 |   244   | 1.053 | 923670  | 1.153 |   353   | 1.252 |      722495      | 1.491 |   263   | 1.000 |</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;| baseline  |  1432535  | 1.258 |   297   | 1.086 |     1047885      | 1.442 |   298   | 1.288 | 1610425 | 2.010 |   547   | 1.942 |      907383      | 1.872 |   325   | 1.237 |</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;The dominant algorithm for each stage in the proposed placement flow can be parallelized and in the table below, acceleration ratios are demonstrated by changing the number of threads and evaluating placement runtime.</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;| \#threads | Rosetta FaceDetect | SpooNN | OptimSoC | MiniMap2 | OpenPiton | Rosetta DigitRecog | MemN2N | BLSTM |</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;| :-------: | :----------------: | :----: | :------: | :------: | :-------: | :----------------: | :----: | :---: |</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;| 8 threads |       2.17x        | 2.07x  |  2.50x   |  2.86x   |   2.63x   |       2.22x        | 2.61x  | 2.23x |</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;| 4 threads |       2.01x        | 1.96x  |  2.29x   |  2.57x   |   2.37x   |       2.04x        | 2.35x  | 1.97x |</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;| 2 threads |       1.56x        | 1.52x  |  1.64x   |  1.81x   |   1.65x   |       1.54x        | 1.68x  | 1.77x |</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;| 1 threads |       1.00x        | 1.00x  |  1.00x   |  1.00x   |   1.00x   |       1.00x        | 1.00x  | 1.00x |</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;Below is the comparison of AMF-Placer Placement (upper ones) and Vivado Placement (lower ones): yellow for CARRY macros, red for MUX macros, green for BRAM macros, purple for DSP macros, blue for LUTRAM macros. The view of device is rotated left by 90 degree.</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;&lt;center&gt;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;&lt;img src=&quot;placement.png&quot; alt=&quot;Placement&quot; title=&quot;Placement&quot; width=&quot;800&quot; /&gt; </div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;&lt;/center&gt;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;The placement congestion level of AMF-Placer is similar to Vivado and below is a figure for the most congested benchmarks (MiniMap2 with PCIE banks and OpenPiton with DDR Interface):</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;&lt;center&gt;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;&lt;img src=&quot;congestionExample.png&quot; alt=&quot;Congestion Example&quot; title=&quot;Congestion Example&quot; width=&quot;800&quot; /&gt; </div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;&lt;/center&gt;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;**The Runtime Log of ICCAD-2021 Benchmarks**</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;Since we keep developing AMF-Placer to meet more expectation from reviewers and users (especially for timing optimization, multi-SLR/die optimization and more applications), we provide [the runtime log files](https://github.com/zslwyuan/AMF-Placer/tree/main/benchmarks/testConfig/testConfigSets/outputs) of the old version of placer which generated the result in the ICCAD-2021 paper. We suggest open the log files with VSCode since it seems that VSCode can highlight different parts of the log files for review convenience.</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;The paper only considered the improvement of wirelength, while now AMF-Placer considers the timing and the clock region impact during global placement and the resultant placements are more practical (e.g., the delays of critical paths are reduced by 20~40%). We are happy to pave the way for people who targets at the practical improvements to gain better results so please feel free to let us know your expectation or demands in the GitHub Issue.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;**References in this page:**</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;\[1\] C.-W. Pui, G. Chen, W.-K. Chow, K.-C. Lam, J. Kuang, P. Tu, H. Zhang, E. F. Young, and B. Yu, “Ripplefpga: A routability-driven placement for large-scale heterogeneous fpgas,” in 2016 IEEE/ACM International Conference on Computer-Aided Design (ICCAD). IEEE, 2016, pp. 1–8.</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;\[2\] J. Chen, Z. Lin, Y.-C. Kuo, C.-C. Huang, Y.-W. Chang, S.-C. Chen, C.-H. Chiang, and S.-Y. Kuo, “Clock-aware placement for large-scale heterogeneous fpgas,” IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems, vol. 39, no. 12, pp. 5042–5055, 2020.</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;\[3\] W. Li, S. Dhar, and D. Z. Pan, “Utplacef: A routability-driven fpga placer with physical and congestion aware packing,” IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems, vol. 37, no. 4, pp. 869–882, 2017.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="__3__2___experimental_results_8md.html">_3_2_ExperimentalResults.md</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
