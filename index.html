<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AMF-Placer: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AMF-Placer
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">An Open-Source Timing-driven Analytical Mixed-size FPGA Placer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">AMF-Placer Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_src_app_AMFPlacer_AMFPlacerMainPage"></a><img src="https://github.com/zslwyuan/AMF-Placer/actions/workflows/main.yml/badge.svg" alt="DocumentationFlow" style="pointer-events: none;" class="inline"/> <img src="https://github.com/zslwyuan/AMF-Placer/actions/workflows/cmake.yml/badge.svg" alt="CMakeFlow" style="pointer-events: none;" class="inline"/> <img src="https://raw.githubusercontent.com/zslwyuan/AMF-Placer/cloc_code/cloc_code.svg" alt="LoCCode" style="pointer-events: none;" title="LoCCode" height="18" class="inline"/> <img src="https://raw.githubusercontent.com/zslwyuan/AMF-Placer/cloc_code/cloc_comment.svg" alt="LoCComment" style="pointer-events: none;" title="LoCComment" height="18" class="inline"/></p>
<p><a href="https://github.com/zslwyuan/AMF-Placer" class="el">Access The GitHub Project</a></p>
<p><b>Introduction</b></p>
<p>AMF-Placer 2.0 is an open-source comprehensive timing-driven Analytical Mixed-size FPGA placer. It supports mixed-size placement of heterogeneous resources (e.g., LUT/FF/LUTRAM/MUX/CARRY/DSP/BRAM) on FPGA. To speed up the convergence and improve the timing quality of the placement, standing upon the shoulders of AMF-Placer 1.0, AMF-Placer 2.0 is equipped with a series of new techniques for timing optimization, including an effective regression-based timing model, placement-blockage-aware anchor insertion, WNS-aware timing-driven quadratic placement, and sector-guided detailed placement. Based on a set of the latest large open-source benchmarks from various domains for Xilinx Ultrascale FPGAs, experimental results indicate that critical path delays realized by AMF-Placer 2.0 are averagely 2.2% and 0.59% higher than those achieved by commercial tool Xilinx Vivavo 2020.2 and 2021.2 respectively. Meanwhile, the average runtime of placement procedure of AMF-Placer 2.0 is 14% and 8.5% higher than Xilinx Vivavo 2020.2 and 2021.2 respectively. Although limited by the absence of the exact timing model of the device, the information of design hierarchy and accurate routing feedback, AMF-Placer 2.0 is the first open-source FPGA placer which can handle the timing-driven mixed-size placement of practical complex designs with various FPGA resources and achieves the comparable quality to the latest commercial tools. <b>Detailed Doxygen-based documentation (e.g, introduction, usage, implementation and experimental results) can be accessed <a href="https://zslwyuan.github.io/AMF-Placer/">here</a></b>.</p>
<p>AMF-Placer 2.0 is the extension of AMF-Placer 1.0. AMF-Placer 1.0 is equipped with a series of new techniques for wirelength optimization, cell spreading, packing, and legalization. Based on a set of the latest large open-source benchmarks from various domains for Xilinx Ultrascale FPGAs, experimental results indicate that AMF-Placer can improve HPWL by 20.4%-89.3% and reduce runtime by 8.0%-84.2%, compared to the baseline. Furthermore, utilizing the parallelism of the proposed algorithms, with 8 threads, the placement procedure can be accelerated by 2.41x on average.</p>
<center> <img src="OpenPiton_converge.gif" alt="Convergence (OpenPiton)" title="Convergence (OpenPiton)" width="100" class="inline"/> <img src="MiniMap2_converge.gif" alt="Convergence (MiniMap2)" title="Convergence (MiniMap2)" width="100" class="inline"/> <img src="optimsoc_converge.gif" alt="Convergence (OptimSoC)" title="Convergence (OptimSoC)" width="100" class="inline"/> <img src="MemN2N_converge.gif" alt="Convergence (MemN2N)" title="Convergence (MemN2N)" width="100" class="inline"/> <img src="GUI.gif" alt="GUI" title="GUI" height="250" class="inline"/> <img src="GUIdetailed.gif" alt="GUIdetailed" title="GUIdetailed" height="250" class="inline"/> <br  />
 </center><p><b>License</b></p>
<p>This project is developed by <a href="https://eeweiz.home.ece.ust.hk/">Reconfiguration Computing Systems Lab</a>, Hong Kong University of Science and Technology (HKUST). Tingyuan Liang (<a href="#" onclick="location.href='mai'+'lto:'+'tli'+'an'+'g@c'+'on'+'nec'+'t.'+'ust'+'.h'+'k'; return false;">tlian<span style="display: none;">.nosp@m.</span>g@co<span style="display: none;">.nosp@m.</span>nnect<span style="display: none;">.nosp@m.</span>.ust<span style="display: none;">.nosp@m.</span>.hk</a>), Gengjie Chen (chen_gengjie.hotmail.com), Jieru Zhao (zhao-jieru.sjtu.edu.cn), Sharad Sinha (<a href="#" onclick="location.href='mai'+'lto:'+'sha'+'ra'+'d@i'+'it'+'goa'+'.a'+'c.i'+'n'; return false;">shara<span style="display: none;">.nosp@m.</span>d@ii<span style="display: none;">.nosp@m.</span>tgoa.<span style="display: none;">.nosp@m.</span>ac.i<span style="display: none;">.nosp@m.</span>n</a>) and Wei Zhang (<a href="#" onclick="location.href='mai'+'lto:'+'eew'+'ei'+'z@u'+'st'+'.hk'; return false;">eewei<span style="display: none;">.nosp@m.</span>z@us<span style="display: none;">.nosp@m.</span>t.hk</a>) are the major contributors of this project.</p>
<p>In this repo, we provide the <b>basic implementation of AMF-Placer 2.0, under the Apache License 2.0</b>, supporting comprehensive timing-driven placement with critical path delay and runtime which are downgraded slightly by ~5% on average. If you want to obtain <b>the advanced version of AMF-Placer 2.0</b> to reproduce the experimental results in the paper of <a href="https://arxiv.org/abs/2210.08682">AMF-Placer 2.0</a> for academic evaluation or commercial usage, you are required to contact the authors Tingyuan Liang (<a href="#" onclick="location.href='mai'+'lto:'+'tli'+'an'+'g@c'+'on'+'nec'+'t.'+'ust'+'.h'+'k'; return false;">tlian<span style="display: none;">.nosp@m.</span>g@co<span style="display: none;">.nosp@m.</span>nnect<span style="display: none;">.nosp@m.</span>.ust<span style="display: none;">.nosp@m.</span>.hk</a>) and Wei ZHANG (<a href="#" onclick="location.href='mai'+'lto:'+'eew'+'ei'+'z@u'+'st'+'.hk'; return false;">eewei<span style="display: none;">.nosp@m.</span>z@us<span style="display: none;">.nosp@m.</span>t.hk</a>) with your offcial instituation email and we will response in 72 hours. If you are commercial entities, you can also contact <a href="#" onclick="location.href='mai'+'lto:'+'tts'+'am'+'uel'+'@u'+'st.'+'hk'; return false;">ttsam<span style="display: none;">.nosp@m.</span>uel@<span style="display: none;">.nosp@m.</span>ust.h<span style="display: none;">.nosp@m.</span>k</a> for licensing opportunities of the advanced version.</p>
<p><b>Documentation Hierarchy</b></p>
<ul>
<li><a class="el" href="_1_intro.html">Basic Project Introduction</a>: motivation, features and some experimental results.</li>
<li><a class="el" href="_2_get_started.html">Get Started</a>: guideline to use the placer for your work.</li>
<li><a class="el" href="_3_benchmark_info.html">Benchmarks and Experimental Results</a>: practical benchmarks for evaluation and some experimental results at current stages.</li>
<li><a class="el" href="_4_publication.html">Publications</a>: some papers which are the fundamental parts of this project.</li>
<li><a class="el" href="_5_explanation.html">Implementation Explanation</a>: the concrete explaination of the major novel contributions, the function modules and the placement procedure.</li>
<li><a class="el" href="_7_portability_to_vivado_problem.html">Existing Problems When Exporting To Vivado</a>: the concrete explaination of some of our known problems when interacting with Vivado.</li>
<li><a class="el" href="_8_some_failure_lesson.html">Some Failure Lessons</a>: Some of our previous failure lessons might be helpful for people who also want to develop their own physical synthesis flow.</li>
</ul>
<p><b>Motivations</b></p>
<ol type="1">
<li>Just reinvent the wheel for fun, try to build a complete flow and reproduce/improve some state-of-art techniques in the latest papers.</li>
<li>Resolve some existing constraints in some previous works and consider more practical situations, like FPGA mixed-size placement with a series of optimization from the perspectives of timing, clocking, routability-aware and parallelism.</li>
<li>A beginner-friendly placement framework with clear hierarchy and detailed Doxygen-based documentation. We hope that it can lower the overhead for people who are also interested in this research area.</li>
<li>Currently, this framework is under development and it is still far from our goals and the practical demands, but we are happy to share our progress in this GitHub repository. If you have any questions/problems/suggestions, please contact feel free to contact us (Tingyuan LIANG, <a href="#" onclick="location.href='mai'+'lto:'+'tli'+'an'+'g@c'+'on'+'nec'+'t.'+'ust'+'.h'+'k'; return false;">tlian<span style="display: none;">.nosp@m.</span>g@co<span style="display: none;">.nosp@m.</span>nnect<span style="display: none;">.nosp@m.</span>.ust<span style="display: none;">.nosp@m.</span>.hk</a>)</li>
</ol>
<p><b>Features</b></p>
<ol type="1">
<li>supports placeemnt with a large number of mixed-size macros with shape constraints in practical FPGA applications.</li>
<li>wirelength-driven, routability-aware, packing-aware, clock-aware, region-aware.</li>
<li>initially timing-driven with basic embedded static timing analysis, WNS-aware global placement, efficient detailed placement</li>
<li>a set of optional optimization techniques to improve mixed-size FPGA placement QoR</li>
<li>parallelizes the implementation of each stage of placement based on multi-threading</li>
<li>modularized function implementation for easier further development</li>
<li>flexible and extensible JSON-based placement configuration</li>
<li>supports placement check-point importing/exporting</li>
<li>a set of pre-implementation benchmarks from latest practical FPGA applications</li>
<li>provides a set of Tcl scripts which extracts design netlist from Vivado and exports post-placement information to Vivado</li>
<li>A basic GUI for user to analyze the placement procedure to optimize the implementation</li>
</ol>
<p><b>Todo List</b></p>
<ol type="1">
<li>clock tree synthesis</li>
<li>ckock-related optimization</li>
</ol>
<p><b>Implementation Overview</b></p>
<center> <img src="overview.png" alt="Implementation Overview" title="Implementation Overview" width="800" class="inline"/> </center><p><b>Acknowledgement</b></p>
<p>We sincerely appreciate the kindly suggestions from reviewers, detailed explanations of UTPlaceF from <a href="http://wuxili.net/#about">Dr. Wuxi Li</a>, useful advice on Vivado metric usages from Dr. Stephen Yang, fruitful discussion on some previous works with <a href="https://github.com/YunxZhou">Ms. Yun Zhou</a> and practical suggestions of the convenient usages of AMF-Placer from <a href="https://github.com/magic3007">Mr. Jing Mai</a>.</p>
<p><b>Issue Report</b></p>
<p>This project is under active development and far from perfect. We do want to make the placer useful for people in the community. Therefore,</p><ul>
<li>If you have any question/problem, please feel free to create an issue in the <a href="https://github.com/zslwyuan/AMF-Placer/issues">GitHub Issue</a> or email us (Tingyuan LIANG, <a href="#" onclick="location.href='mai'+'lto:'+'tli'+'an'+'g@c'+'on'+'nec'+'t.'+'ust'+'.h'+'k'; return false;">tlian<span style="display: none;">.nosp@m.</span>g@co<span style="display: none;">.nosp@m.</span>nnect<span style="display: none;">.nosp@m.</span>.ust<span style="display: none;">.nosp@m.</span>.hk</a>)</li>
<li>We sincerely welcome code contribution to this project or suggestion in any approach!</li>
</ul>
<p>(last updated Oct 23, 2022) </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
