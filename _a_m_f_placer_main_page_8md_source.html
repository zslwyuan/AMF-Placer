<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AMF-Placer: src/app/AMFPlacer/AMFPlacerMainPage.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AMF-Placer
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">An Open-Source Timing-driven Analytical Mixed-size FPGA Placer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_a_m_f_placer_main_page_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">src/app/AMFPlacer/AMFPlacerMainPage.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_a_m_f_placer_main_page_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;![DocumentationFlow](https://github.com/zslwyuan/AMF-Placer/actions/workflows/main.yml/badge.svg) ![CMakeFlow](https://github.com/zslwyuan/AMF-Placer/actions/workflows/cmake.yml/badge.svg)  &lt;img src=&quot;https://raw.githubusercontent.com/zslwyuan/AMF-Placer/cloc_code/cloc_code.svg&quot; alt=&quot;LoCCode&quot; title=&quot;LoCCode&quot; height=&quot;18&quot; /&gt; </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  &lt;img src=&quot;https://raw.githubusercontent.com/zslwyuan/AMF-Placer/cloc_code/cloc_comment.svg&quot; alt=&quot;LoCComment&quot; title=&quot;LoCComment&quot; height=&quot;18&quot; /&gt; </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;&lt;a class=&quot;el&quot; href=&quot;https://github.com/zslwyuan/AMF-Placer&quot;&gt;Access The GitHub Project&lt;/a&gt;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;**Introduction**</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;AMF-Placer 2.0 is an open-source comprehensive timing-driven Analytical Mixed-size FPGA placer. It supports mixed-size placement of heterogeneous resources (e.g., LUT/FF/LUTRAM/MUX/CARRY/DSP/BRAM) on FPGA. To speed up the convergence and improve the timing quality of the placement,  standing upon the shoulders of AMF-Placer 1.0, AMF-Placer 2.0 is equipped with a series of new techniques for timing optimization, including an effective regression-based timing model, placement-blockage-aware anchor insertion, WNS-aware timing-driven quadratic placement, and sector-guided detailed placement. Based on a set of the latest large open-source benchmarks from various domains for Xilinx Ultrascale FPGAs, experimental results indicate that critical path delays realized by AMF-Placer 2.0 are averagely 2.2% and 0.59% higher than those achieved by commercial tool Xilinx Vivavo 2020.2 and 2021.2  respectively. Meanwhile, the average runtime of placement procedure of AMF-Placer 2.0 is 14% and 8.5% higher than Xilinx Vivavo 2020.2 and 2021.2 respectively. Although limited by the absence of the exact timing model of the device, the information of design hierarchy and accurate routing feedback, AMF-Placer 2.0 is the first open-source FPGA placer which can handle the timing-driven mixed-size placement of practical complex designs with various FPGA resources and achieves the comparable quality to the latest commercial tools. **Detailed Docygen-based documentation (e.g, introduction, usage, implementation and experimental results) can be accessed [here](https://zslwyuan.github.io/AMF-Placer/)**.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;AMF-Placer 2.0 is the extension of AMF-Placer 1.0. AMF-Placer 1.0 is equipped with a series of new techniques for wirelength optimization, cell spreading, packing, and legalization. Based on a set of the latest large open-source benchmarks from various domains for Xilinx Ultrascale FPGAs, experimental results indicate that AMF-Placer can improve HPWL by 20.4%-89.3% and reduce runtime by 8.0%-84.2%, compared to the baseline. Furthermore, utilizing the parallelism of the proposed algorithms, with 8 threads, the placement procedure can be accelerated by 2.41x on average. </div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;&lt;center&gt;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;&lt;img src=&quot;OpenPiton_converge.gif&quot; alt=&quot;Convergence (OpenPiton)&quot; title=&quot;Convergence (OpenPiton)&quot; width=&quot;100&quot; /&gt;    &lt;img src=&quot;MiniMap2_converge.gif&quot; alt=&quot;Convergence (MiniMap2)&quot; title=&quot;Convergence (MiniMap2)&quot; width=&quot;100&quot; /&gt;   &lt;img src=&quot;optimsoc_converge.gif&quot; alt=&quot;Convergence (OptimSoC)&quot; title=&quot;Convergence (OptimSoC)&quot; width=&quot;100&quot; /&gt;    &lt;img src=&quot;MemN2N_converge.gif&quot; alt=&quot;Convergence (MemN2N)&quot; title=&quot;Convergence (MemN2N)&quot; width=&quot;100&quot; /&gt; </div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;&lt;/center&gt;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;**License**</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;This project is developed by [Reconfiguration Computing Systems Lab](https://eeweiz.home.ece.ust.hk/), Hong Kong University of Science and Technology (HKUST). Tingyuan Liang (tliang@connect.ust.hk), Gengjie Chen (chen_gengjie.hotmail.com), Jieru Zhao (zhao-jieru.sjtu.edu.cn), Sharad Sinha (sharad@iitgoa.ac.in) and Wei Zhang (eeweiz@ust.hk) are the major contributors of this project.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;In this repo, we provide the **initial implementation of AMF-Placer 2.0**, supporting comprehensive timing-driven placement with critical path delay and runtime which are downgraded by ~5%. If you want to reproduce the experimental results in the paper of [AMF-Placer 2.0](https://arxiv.org/abs/2210.08682) for academic evaluation or commercial usage, you are required to contact the authors Tingyuan Liang (tliang@connect.ust.hk) and Wei ZHANG (eeweiz@ust.hk) with your offcial instituation email and we will response in 72 hours.</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;Generally, for non-commercial usage of this open-source project, users should comply the Apache License attached in the root directory and for commercial usage of this open-source project, users must contact project supervisor (Wei ZHANG, eeweiz@ust.hk) for authorization.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;**Documentation Hierarchy**</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;* [Basic Project Introduction](@ref _1_intro): motivation, features and some experimental results.</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;* [Get Started](@ref _2_getStarted): guideline to use the placer for your work.</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;* [Benchmarks and Experimental Results](@ref _3_benchmarkInfo): practical benchmarks for evaluation and some experimental results at current stages.</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;* [Publications](@ref _4_publication): some papers which are the fundamental parts of this project.</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;* [Implementation Explanation](@ref _5_explanation): the concrete explaination of the major novel contributions, the function modules and the placement procedure.</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;* [Existing Problems When Exporting To Vivado](@ref _7_portabilityToVivadoProblem): the concrete explaination of some of our known problems when interacting with Vivado.</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;* [Some Failure Lessons](@ref _8_someFailureLesson): Some of our previous failure lessons might be helpful for people who also want to develop their own physical synthesis flow.</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;**Motivations**</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;1. Just reinvent the wheel for fun, try to build a complete flow and reproduce/improve some state-of-art techniques in the latest papers.</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;2. Resolve some existing constraints in some previous works and consider more practical situations, like FPGA mixed-size placement with a series of optimization from the perspectives of timing, clocking, routability-aware and parallelism.</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;3. A beginner-friendly placement framework with clear hierarchy and detailed Doxygen-based documentation. We hope that it can lower the overhead for people who are also interested in this research area.</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;4. Currently, this framework is under development and it is still far from our goals and the practical demands, but we are happy to share our progress in this GitHub repository. If you have any questions/problems/suggestions, please contact feel free to contact us (Tingyuan LIANG, tliang@connect.ust.hk)</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;**Features**</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;1. supports placeemnt with a large number of mixed-size macros with shape constraints in practical FPGA applications.</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;2. wirelength-driven, routability-aware, packing-aware, clock-aware, region-aware. </div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;3. initially timing-driven with basic embedded static timing analysis, WNS-aware global placement, efficient detailed placement</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;4. a set of optional optimization techniques to improve mixed-size FPGA placement QoR</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;5. parallelizes the implementation of each stage of placement based on multi-threading</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;6. modularized function implementation for easier further development</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;7. flexible and extensible JSON-based placement configuration</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;8. supports placement check-point importing/exporting</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;9. a set of pre-implementation benchmarks from latest practical FPGA applications</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;10. provides a set of Tcl scripts which extracts design netlist from Vivado and exports post-placement information to Vivado</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;**Todo List**</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;1. clock tree synthesis</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;2. ckock-related optimization</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;**Implementation Overview**</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;&lt;center&gt;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;&lt;img src=&quot;overview.png&quot; alt=&quot;Implementation Overview&quot; title=&quot;Implementation Overview&quot; width=&quot;800&quot; /&gt; </div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;&lt;/center&gt;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;**Acknowledgement**</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;We sincerely appreciate the kindly suggestions from reviewers, detailed explanations of UTPlaceF from [Dr. Wuxi Li](http://wuxili.net/#about), useful advice on Vivado metric usages from Dr. Stephen Yang, fruitful discussion on some previous works with [Ms. Yun Zhou](https://github.com/YunxZhou) and practical suggestions of the convenient usages of AMF-Placer from [Mr. Jing Mai](https://github.com/magic3007).</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;**Issue Report**</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;This project is under active development and far from perfect. We do want to make the placer useful for people in the community. Therefore,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;* If you have any question/problem, please feel free to create an issue in the [GitHub Issue](https://github.com/zslwyuan/AMF-Placer/issues) or email us (Tingyuan LIANG, tliang@connect.ust.hk)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;* We sincerely welcome code contribution to this project or suggestion in any approach!</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;(last updated Oct 23, 2022)</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_a_m_f_placer_main_page_8md.html">AMFPlacerMainPage.md</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
